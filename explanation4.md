This problem is very similar to problem 2.  I chose to solve it with recursion for simplicity as the stack is handled behind the scenes.  The worst-case time complexity is O(n) if the user is the last one to be checked or the user is not in the group or one of its subgroups.  This is the best-case for this problem as the data is not structured in any way to allow for a more efficient search.  Worst-case space complexity is O(n) if all users are within their group and each group only has one sub-group.  The algorithm would recursively add itself to the call stack n times.